<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoVida - Ideias Sustent√°veis</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2e7d32 0%, #4caf50 25%, #66bb6a 50%, #81c784 75%, #a5d6a7 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,255,255,0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255,255,255,0.05) 0%, transparent 50%);
            animation: floatingLights 20s ease-in-out infinite;
            pointer-events: none;
            z-index: 1;
        }

        body::after {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255,255,255,0.03), transparent, rgba(255,255,255,0.02), transparent);
            animation: backgroundSpin 30s linear infinite;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes floatingLights {
            0%, 100% { 
                transform: translateY(0px) scale(1);
                opacity: 0.6;
            }
            33% { 
                transform: translateY(-20px) scale(1.1);
                opacity: 0.8;
            }
            66% { 
                transform: translateY(10px) scale(0.9);
                opacity: 0.4;
            }
        }

        @keyframes backgroundSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 2;
        }

        header {
            background: linear-gradient(135deg, #2e7d32, #4caf50, #66bb6a, #81c784);
            background-size: 300% 300%;
            animation: headerGlow 8s ease infinite;
            color: white;
            padding: 3rem 0;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: sparkle 6s linear infinite;
        }

        @keyframes headerGlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes sparkle {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: titlePulse 3s ease-in-out infinite;
            position: relative;
            z-index: 2;
        }

        @keyframes titlePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        nav {
            background: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(45deg, #2e7d32 0%, #4caf50 25%, #66bb6a 50%, #81c784 75%, #4caf50 100%);
            background-size: 300% 300%;
            color: white;
            border: none;
            padding: 18px 36px;
            border-radius: 35px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 8px 25px rgba(76, 175, 80, 0.4),
                0 4px 15px rgba(46, 125, 50, 0.3),
                inset 0 1px 0 rgba(255,255,255,0.2),
                inset 0 -1px 0 rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            transform: perspective(1000px) rotateX(5deg);
            animation: btnBackgroundShift 3s ease infinite;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .nav-btn:hover {
            background: linear-gradient(45deg, #1a5e20 0%, #2e7d32 20%, #4caf50 40%, #66bb6a 60%, #81c784 80%, #66bb6a 100%);
            background-size: 400% 400%;
            transform: perspective(1000px) rotateX(10deg) translateY(-8px) scale(1.1);
            box-shadow: 
                0 15px 40px rgba(76, 175, 80, 0.7),
                0 8px 25px rgba(46, 125, 50, 0.5),
                0 0 30px rgba(129, 199, 132, 0.6),
                inset 0 2px 0 rgba(255,255,255,0.3),
                inset 0 -2px 0 rgba(0,0,0,0.2);
            animation: btnHoverGlow 1.5s ease infinite alternate, btnBackgroundShift 2s ease infinite;
        }

        .nav-btn.active {
            background: linear-gradient(45deg, #1a5e20 0%, #2e7d32 30%, #388e3c 60%, #4caf50 100%);
            background-size: 200% 200%;
            box-shadow: 
                0 10px 30px rgba(46, 125, 50, 0.6),
                0 5px 15px rgba(26, 94, 32, 0.4),
                0 0 25px rgba(76, 175, 80, 0.5),
                inset 0 2px 0 rgba(255,255,255,0.25),
                inset 0 -2px 0 rgba(0,0,0,0.15);
            transform: perspective(1000px) rotateX(8deg) translateY(-5px) scale(1.05);
            animation: btnActiveGlow 2s ease infinite alternate, btnBackgroundShift 2.5s ease infinite;
        }

        @keyframes btnBackgroundShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes btnHoverGlow {
            0% { 
                filter: brightness(1) saturate(1);
                text-shadow: 0 0 10px rgba(255,255,255,0.8);
            }
            100% { 
                filter: brightness(1.2) saturate(1.3);
                text-shadow: 0 0 20px rgba(255,255,255,1), 0 0 30px rgba(129,199,132,0.8);
            }
        }

        @keyframes btnActiveGlow {
            0% { 
                filter: brightness(1.1) saturate(1.2);
                text-shadow: 0 0 15px rgba(255,255,255,0.9);
            }
            100% { 
                filter: brightness(1.3) saturate(1.4);
                text-shadow: 0 0 25px rgba(255,255,255,1.1), 0 0 35px rgba(76,175,80,0.9);
            }
        }

        .section {
            display: none;
            padding: 3rem 0;
            min-height: 70vh;
        }

        .section.active {
            display: block;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2.5rem;
            margin: 2rem 0;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #2e7d32, #4caf50, #66bb6a);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2e7d32;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #4caf50;
        }

        .radio-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .radio-option input[type="radio"] {
            width: auto;
        }

        .btn {
            background: linear-gradient(45deg, #4caf50, #66bb6a, #4caf50);
            background-size: 200% 200%;
            color: white;
            border: none;
            padding: 18px 36px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            background-position: 100% 100%;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.6);
            animation: btnGlow 1.5s ease-in-out infinite alternate;
        }

        @keyframes btnGlow {
            from { box-shadow: 0 10px 30px rgba(76, 175, 80, 0.6); }
            to { box-shadow: 0 10px 30px rgba(76, 175, 80, 0.8), 0 0 20px rgba(76, 175, 80, 0.4); }
        }

        .result-card {
            background: linear-gradient(135deg, #e8f5e8, #f1f8e9, #e8f5e8);
            background-size: 200% 200%;
            animation: resultShimmer 4s ease-in-out infinite;
            border: 3px solid #4caf50;
            text-align: center;
            padding: 3rem;
            margin: 2rem 0;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.3);
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(76, 175, 80, 0.1), transparent);
            animation: resultSpin 8s linear infinite;
        }

        @keyframes resultShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes resultSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .carbon-result {
            font-size: 4rem;
            font-weight: bold;
            color: #2e7d32;
            margin: 1rem 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            animation: numberPulse 2s ease-in-out infinite;
            position: relative;
            z-index: 2;
        }

        @keyframes numberPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .floating-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            animation: megaFloat 15s infinite linear;
            filter: blur(0.5px);
        }

        .particle:nth-child(1) {
            left: 10%;
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(76,175,80,0.6) 50%, transparent 100%);
            animation-delay: 0s;
            animation-duration: 12s;
            box-shadow: 0 0 15px rgba(255,255,255,0.8);
        }

        .particle:nth-child(2) {
            left: 20%;
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(129,199,132,0.7) 40%, transparent 100%);
            animation-delay: 2s;
            animation-duration: 15s;
            box-shadow: 0 0 20px rgba(129,199,132,0.6);
        }

        .particle:nth-child(3) {
            left: 40%;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(165,214,167,0.8) 30%, transparent 100%);
            animation-delay: 4s;
            animation-duration: 10s;
            box-shadow: 0 0 12px rgba(165,214,167,0.7);
        }

        .particle:nth-child(4) {
            left: 60%;
            width: 10px;
            height: 10px;
            background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(76,175,80,0.5) 60%, transparent 100%);
            animation-delay: 6s;
            animation-duration: 18s;
            box-shadow: 0 0 18px rgba(76,175,80,0.5);
        }

        .particle:nth-child(5) {
            left: 80%;
            width: 14px;
            height: 14px;
            background: radial-gradient(circle, rgba(255,255,255,0.7) 0%, rgba(200,230,201,0.8) 45%, transparent 100%);
            animation-delay: 8s;
            animation-duration: 14s;
            box-shadow: 0 0 25px rgba(200,230,201,0.6);
        }

        .particle:nth-child(6) {
            left: 90%;
            width: 7px;
            height: 7px;
            background: radial-gradient(circle, rgba(255,255,255,0.95) 0%, rgba(129,199,132,0.6) 35%, transparent 100%);
            animation-delay: 10s;
            animation-duration: 16s;
            box-shadow: 0 0 14px rgba(255,255,255,0.7);
        }

        @keyframes megaFloat {
            0% {
                transform: translateY(100vh) translateX(0px) rotate(0deg) scale(0.5);
                opacity: 0;
                filter: blur(2px) hue-rotate(0deg);
            }
            5% {
                opacity: 0.8;
                filter: blur(1px) hue-rotate(10deg);
            }
            15% {
                transform: translateY(85vh) translateX(20px) rotate(45deg) scale(0.8);
                opacity: 1;
                filter: blur(0.5px) hue-rotate(20deg);
            }
            30% {
                transform: translateY(70vh) translateX(-15px) rotate(120deg) scale(1.1);
                opacity: 0.9;
                filter: blur(0px) hue-rotate(15deg);
            }
            50% {
                transform: translateY(50vh) translateX(25px) rotate(200deg) scale(1.3);
                opacity: 1;
                filter: blur(0px) hue-rotate(-10deg);
            }
            70% {
                transform: translateY(30vh) translateX(-10px) rotate(280deg) scale(1.1);
                opacity: 0.8;
                filter: blur(0.5px) hue-rotate(5deg);
            }
            85% {
                transform: translateY(15vh) translateX(15px) rotate(330deg) scale(0.9);
                opacity: 0.6;
                filter: blur(1px) hue-rotate(-5deg);
            }
            95% {
                opacity: 0.3;
                filter: blur(1.5px) hue-rotate(-15deg);
            }
            100% {
                transform: translateY(-10vh) translateX(0px) rotate(360deg) scale(0.3);
                opacity: 0;
                filter: blur(2px) hue-rotate(-20deg);
            }
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .tip-card {
            background: linear-gradient(135deg, rgba(248, 249, 250, 0.9), rgba(255, 255, 255, 0.9));
            backdrop-filter: blur(5px);
            padding: 2rem;
            border-radius: 15px;
            border-left: 4px solid #4caf50;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .tip-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(76, 175, 80, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tip-card:hover::before {
            opacity: 1;
        }

        .tip-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.2);
            border-left-width: 6px;
        }

        .tip-card h4 {
            color: #2e7d32;
            margin-bottom: 1rem;
        }

        .chart-container {
            max-width: 600px;
            margin: 2rem auto;
            padding: 1rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .intro-text {
            font-size: 1.1rem;
            text-align: center;
            margin: 2rem 0;
            color: #555;
        }

        .highlight {
            background: linear-gradient(120deg, #a8e6cf 0%, #dcedc1 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 2rem 0;
        }

        .rating-display {
            font-size: 0.9rem;
            color: #f39c12;
            font-weight: bold;
        }

        .rating-buttons button:hover {
            transform: scale(1.2);
            filter: brightness(1.2);
        }

        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        textarea:focus {
            outline: none;
            border-color: #4caf50;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .nav-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                width: 200px;
            }
            
            .radio-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>üå± EcoVida</h1>
            <p class="subtitle">Transformando ideias em a√ß√µes sustent√°veis</p>
        </div>
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </header>

    <nav>
        <div class="container">
            <div class="nav-buttons">
                <button class="nav-btn active" onclick="showSection('home')">In√≠cio</button>
                <button class="nav-btn" onclick="showSection('calculator')">Calculadora de Carbono</button>
                <button class="nav-btn" onclick="showSection('guide')">Guia Escolar</button>
                <button class="nav-btn" onclick="showSection('mapping')">Mapeamento</button>
                <button class="nav-btn" onclick="showSection('ideas')">Banco de Ideias</button>
            </div>
        </div>
    </nav>

    <main class="container">
        <!-- Se√ß√£o Inicial -->
        <section id="home" class="section active">
            <div class="card">
                <h2>üåç Bem-vindo ao EcoVida</h2>
                <p class="intro-text">
                    Sua plataforma completa para um estilo de vida mais sustent√°vel. Descubra ferramentas pr√°ticas 
                    para reduzir seu impacto ambiental e contribuir para um futuro mais verde.
                </p>
                
                <div class="highlight">
                    <h3>üéØ Nossos Objetivos</h3>
                    <ul style="margin: 1rem 0; padding-left: 2rem;">
                        <li>Conscientizar sobre o impacto ambiental individual</li>
                        <li>Promover pr√°ticas sustent√°veis no dia a dia</li>
                        <li>Conectar iniciativas sustent√°veis da comunidade</li>
                        <li>Compartilhar ideias pr√°ticas para um mundo melhor</li>
                    </ul>
                </div>

                <div class="tips-grid">
                    <div class="tip-card">
                        <h4>üìä Calculadora de Pegada de Carbono</h4>
                        <p>Descubra seu impacto ambiental e receba dicas personalizadas para reduzi-lo.</p>
                    </div>
                    <div class="tip-card">
                        <h4>üè´ Guia Escolar Sustent√°vel</h4>
                        <p>Pr√°ticas sustent√°veis para implementar no ambiente educacional.</p>
                    </div>
                    <div class="tip-card">
                        <h4>üó∫Ô∏è Mapeamento Comunit√°rio</h4>
                        <p>Encontre e cadastre iniciativas sustent√°veis na sua regi√£o.</p>
                    </div>
                    <div class="tip-card">
                        <h4>üí° Banco de Ideias</h4>
                        <p>Compartilhe e descubra ideias criativas para o dia a dia sustent√°vel.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Calculadora de Pegada de Carbono -->
        <section id="calculator" class="section">
            <div class="card">
                <h2>üåø Calculadora de Pegada de Carbono</h2>
                <p class="intro-text">
                    A pegada de carbono representa a quantidade total de gases de efeito estufa emitidos 
                    direta ou indiretamente por suas atividades. Calcule a sua e descubra como reduzi-la!
                </p>

                <form id="carbonForm">
                    <div class="form-group">
                        <label>üè† Consumo mensal de energia el√©trica (kWh):</label>
                        <input type="number" id="energy" min="0" placeholder="Ex: 150" required>
                    </div>

                    <div class="form-group">
                        <label>üöó Quantos km voc√™ percorre por m√™s de carro?</label>
                        <input type="number" id="carKm" min="0" placeholder="Ex: 1000">
                    </div>

                    <div class="form-group">
                        <label>‚úàÔ∏è Quantos voos voc√™ faz por ano?</label>
                        <select id="flights" required>
                            <option value="0">Nenhum</option>
                            <option value="1">1-2 voos</option>
                            <option value="3">3-5 voos</option>
                            <option value="6">Mais de 5 voos</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ü•© Qual seu tipo de dieta?</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="diet1" name="diet" value="high" required>
                                <label for="diet1">Rica em carne</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="diet2" name="diet" value="medium">
                                <label for="diet2">Moderada</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="diet3" name="diet" value="low">
                                <label for="diet3">Vegetariana/Vegana</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>üõçÔ∏è Frequ√™ncia de compras de roupas/eletr√¥nicos:</label>
                        <select id="shopping" required>
                            <option value="high">Frequentemente (mensal)</option>
                            <option value="medium">Moderadamente (trimestral)</option>
                            <option value="low">Raramente (anual)</option>
                        </select>
                    </div>

                    <button type="submit" class="btn">Calcular Minha Pegada de Carbono</button>
                </form>

                <div id="results" style="display: none;">
                    <div class="result-card">
                        <h3>üåç Sua Pegada de Carbono Anual</h3>
                        <div class="carbon-result" id="carbonResult">0</div>
                        <p>toneladas de CO‚ÇÇ equivalente por ano</p>
                        <p style="margin-top: 1rem; color: #666;">
                            M√©dia brasileira: ~2.3 toneladas | M√©dia mundial: ~4.8 toneladas
                        </p>
                    </div>

                    <div class="chart-container">
                        <canvas id="carbonChart"></canvas>
                    </div>

                    <h3>üíö Dicas para Reduzir sua Pegada de Carbono</h3>
                    <div class="tips-grid" id="tipsContainer">
                        <!-- Dicas ser√£o inseridas aqui dinamicamente -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Guia de Consumo Consciente -->
        <section id="guide" class="section">
            <div class="card">
                <h2>üè´ Guia de Consumo Consciente na Escola</h2>
                <p class="intro-text">
                    Transforme sua escola em um ambiente mais sustent√°vel com pr√°ticas simples 
                    que fazem a diferen√ßa para o planeta e para a comunidade escolar.
                </p>

                <div class="tips-grid">
                    <div class="tip-card">
                        <h4>üíß Economia de √Ågua</h4>
                        <ul>
                            <li>Feche a torneira ao escovar os dentes</li>
                            <li>Reporte vazamentos imediatamente</li>
                            <li>Use copos reutiliz√°veis nos bebedouros</li>
                            <li>Colete √°gua da chuva para regar plantas</li>
                        </ul>
                    </div>

                    <div class="tip-card">
                        <h4>‚ö° Economia de Energia</h4>
                        <ul>
                            <li>Desligue luzes ao sair da sala</li>
                            <li>Aproveite a luz natural sempre que poss√≠vel</li>
                            <li>Desligue equipamentos em standby</li>
                            <li>Use ventiladores em vez de ar condicionado</li>
                        </ul>
                    </div>

                    <div class="tip-card">
                        <h4>‚ôªÔ∏è Gest√£o de Res√≠duos</h4>
                        <ul>
                            <li>Separe o lixo corretamente</li>
                            <li>Reutilize papel usado como rascunho</li>
                            <li>Evite produtos descart√°veis</li>
                            <li>Crie uma composteira escolar</li>
                        </ul>
                    </div>

                    <div class="tip-card">
                        <h4>ü•ó Alimenta√ß√£o Sustent√°vel</h4>
                        <ul>
                            <li>Evite o desperd√≠cio de alimentos</li>
                            <li>Prefira produtos locais e org√¢nicos</li>
                            <li>Use garrafas e lancheiras reutiliz√°veis</li>
                            <li>Crie uma horta escolar</li>
                        </ul>
                    </div>

                    <div class="tip-card">
                        <h4>üìö Materiais Escolares</h4>
                        <ul>
                            <li>Reutilize cadernos e materiais</li>
                            <li>Compartilhe materiais com colegas</li>
                            <li>Prefira produtos reciclados</li>
                            <li>Doe materiais que n√£o usa mais</li>
                        </ul>
                    </div>

                    <div class="tip-card">
                        <h4>üå± Educa√ß√£o Ambiental</h4>
                        <ul>
                            <li>Organize campanhas de conscientiza√ß√£o</li>
                            <li>Crie clubes de sustentabilidade</li>
                            <li>Promova feiras de ci√™ncias ambientais</li>
                            <li>Convide especialistas para palestras</li>
                        </ul>
                    </div>
                </div>

                <div class="highlight">
                    <h3>üéØ Quiz: Teste seus Conhecimentos!</h3>
                    <div id="quiz">
                        <div id="quizQuestion">
                            <p><strong>Pergunta 1:</strong> Qual a melhor forma de economizar √°gua na escola?</p>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" name="q1" value="a" id="q1a">
                                    <label for="q1a">Deixar a torneira pingando</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="q1" value="b" id="q1b">
                                    <label for="q1b">Fechar bem as torneiras ap√≥s o uso</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="q1" value="c" id="q1c">
                                    <label for="q1c">Usar √°gua apenas quando necess√°rio</label>
                                </div>
                            </div>
                            <button class="btn" onclick="checkQuiz()" style="margin-top: 1rem;">Verificar Resposta</button>
                        </div>
                        <div id="quizResult" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Mapeamento de Iniciativas -->
        <section id="mapping" class="section">
            <div class="card">
                <h2>üó∫Ô∏è Mapeamento de Iniciativas Sustent√°veis</h2>
                <p class="intro-text">
                    Descubra e cadastre iniciativas sustent√°veis na sua comunidade. 
                    Juntos, podemos criar uma rede forte de a√ß√µes ambientais!
                </p>

                <div class="highlight">
                    <h3>üìç Cadastrar Nova Iniciativa</h3>
                    <div style="background: #e8f5e8; border: 2px solid #4caf50; border-radius: 8px; padding: 1rem; margin-bottom: 1.5rem;">
                        <h4 style="color: #2e7d32; margin-bottom: 0.5rem;">üõ°Ô∏è Diretrizes da Plataforma</h4>
                        <ul style="margin: 0; padding-left: 1.5rem; color: #2e7d32;">
                            <li>üö´ <strong>Proibido:</strong> Palavras ofensivas, baixo cal√£o ou conte√∫do inadequado</li>
                            <li>‚úÖ Use linguagem respeitosa e profissional</li>
                            <li>üåç Compartilhe apenas iniciativas reais e sustent√°veis</li>
                            <li>üìù Forne√ßa informa√ß√µes claras e √∫teis</li>
                        </ul>
                    </div>
                    <form id="initiativeForm">
                        <div class="form-group">
                            <label>Nome da Iniciativa:</label>
                            <input type="text" id="initName" placeholder="Ex: Horta Comunit√°ria do Bairro" required>
                        </div>

                        <div class="form-group">
                            <label>Categoria:</label>
                            <select id="initCategory" required>
                                <option value="">Selecione uma categoria</option>
                                <option value="agricultura">üå± Agricultura Urbana</option>
                                <option value="reciclagem">‚ôªÔ∏è Reciclagem</option>
                                <option value="energia">‚ö° Energia Renov√°vel</option>
                                <option value="educacao">üìö Educa√ß√£o Ambiental</option>
                                <option value="transporte">üö≤ Transporte Sustent√°vel</option>
                                <option value="outros">üåç Outros</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Descri√ß√£o:</label>
                            <input type="text" id="initDescription" placeholder="Descreva brevemente a iniciativa" required>
                        </div>

                        <div class="form-group">
                            <label>Localiza√ß√£o:</label>
                            <input type="text" id="initLocation" placeholder="Endere√ßo ou refer√™ncia" required>
                        </div>

                        <div class="form-group">
                            <label>Contato:</label>
                            <input type="text" id="initContact" placeholder="Telefone ou email">
                        </div>

                        <button type="submit" class="btn">Cadastrar Iniciativa</button>
                    </form>
                </div>

                <h3>üåü Iniciativas Cadastradas</h3>
                <div class="form-group">
                    <label>Filtrar por categoria:</label>
                    <select id="categoryFilter" onchange="filterInitiatives()">
                        <option value="">Todas as categorias</option>
                        <option value="agricultura">üå± Agricultura Urbana</option>
                        <option value="reciclagem">‚ôªÔ∏è Reciclagem</option>
                        <option value="energia">‚ö° Energia Renov√°vel</option>
                        <option value="educacao">üìö Educa√ß√£o Ambiental</option>
                        <option value="transporte">üö≤ Transporte Sustent√°vel</option>
                        <option value="outros">üåç Outros</option>
                    </select>
                </div>

                <div id="initiativesList" class="tips-grid">
                    <!-- Iniciativas ser√£o listadas aqui -->
                </div>
            </div>
        </section>

        <!-- Banco de Ideias -->
        <section id="ideas" class="section">
            <div class="card">
                <h2>üí° Banco de Ideias Sustent√°veis para o Dia a Dia</h2>
                <p class="intro-text">
                    Pequenas mudan√ßas em nossos h√°bitos di√°rios podem ter um grande impacto no meio ambiente 
                    e na qualidade de vida. Compartilhe suas ideias criativas e inspire outras pessoas a 
                    adotarem pr√°ticas sustent√°veis em todas as √°reas da vida!
                </p>

                <div class="highlight">
                    <h3>üéØ Por que Pequenas Mudan√ßas Importam?</h3>
                    <p>Cada gesto sustent√°vel contribui para:</p>
                    <ul style="margin: 1rem 0; padding-left: 2rem;">
                        <li>Redu√ß√£o da pegada de carbono individual</li>
                        <li>Economia de recursos naturais</li>
                        <li>Diminui√ß√£o da produ√ß√£o de res√≠duos</li>
                        <li>Melhoria da qualidade de vida</li>
                        <li>Inspira√ß√£o para outras pessoas</li>
                    </ul>
                </div>

                <div class="highlight">
                    <h3>‚ú® Compartilhar Nova Ideia</h3>
                    <div style="background: #e3f2fd; border: 2px solid #2196f3; border-radius: 8px; padding: 1rem; margin-bottom: 1.5rem;">
                        <h4 style="color: #1976d2; margin-bottom: 0.5rem;">üìã Regras da Comunidade</h4>
                        <ul style="margin: 0; padding-left: 1.5rem; color: #1565c0;">
                            <li>üö´ <strong>N√£o s√£o permitidas</strong> palavras de baixo cal√£o, ofensas ou linguagem inadequada</li>
                            <li>‚úÖ Mantenha um ambiente respeitoso e construtivo</li>
                            <li>üå± Foque em ideias sustent√°veis e positivas</li>
                            <li>üìù Descri√ß√µes devem ter pelo menos 10 caracteres</li>
                        </ul>
                        <p style="margin: 0.5rem 0 0 0; font-size: 0.9rem; color: #1565c0;"><strong>üí° Lembre-se:</strong> Esta √© uma plataforma educativa dedicada √† sustentabilidade!</p>
                    </div>
                    <form id="ideaForm">
                        <div class="form-group">
                            <label>T√≠tulo da Ideia:</label>
                            <input type="text" id="ideaTitle" placeholder="Ex: Detergente caseiro com lim√£o e bicarbonato" required>
                        </div>

                        <div class="form-group">
                            <label>Categoria:</label>
                            <select id="ideaCategory" required>
                                <option value="">Selecione uma categoria</option>
                                <option value="alimentacao">ü•ó Alimenta√ß√£o</option>
                                <option value="transporte">üö≤ Transporte</option>
                                <option value="energia">‚ö° Energia</option>
                                <option value="residuos">‚ôªÔ∏è Res√≠duos</option>
                                <option value="limpeza">üßΩ Limpeza</option>
                                <option value="compras">üõí Compras</option>
                                <option value="casa">üè† Casa e Jardim</option>
                                <option value="outros">üåü Outros</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Descri√ß√£o Detalhada:</label>
                            <textarea id="ideaDescription" rows="4" placeholder="Descreva passo a passo como implementar sua ideia, incluindo materiais necess√°rios e benef√≠cios" required style="resize: vertical;"></textarea>
                        </div>

                        <div class="form-group">
                            <label>N√≠vel de Dificuldade:</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" name="difficulty" value="facil" id="facil" required>
                                    <label for="facil">üòä F√°cil</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="difficulty" value="medio" id="medio">
                                    <label for="medio">ü§î M√©dio</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="difficulty" value="dificil" id="dificil">
                                    <label for="dificil">üí™ Dif√≠cil</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Seu Nome (opcional):</label>
                            <input type="text" id="ideaAuthor" placeholder="Como voc√™ gostaria de ser creditado?">
                        </div>

                        <button type="submit" class="btn">Compartilhar Ideia</button>
                    </form>
                </div>

                <h3>üåü Ideias Compartilhadas pela Comunidade</h3>
                <div class="form-group">
                    <label>Filtrar por categoria:</label>
                    <select id="ideaCategoryFilter" onchange="filterIdeas()">
                        <option value="">Todas as categorias</option>
                        <option value="alimentacao">ü•ó Alimenta√ß√£o</option>
                        <option value="transporte">üö≤ Transporte</option>
                        <option value="energia">‚ö° Energia</option>
                        <option value="residuos">‚ôªÔ∏è Res√≠duos</option>
                        <option value="limpeza">üßΩ Limpeza</option>
                        <option value="compras">üõí Compras</option>
                        <option value="casa">üè† Casa e Jardim</option>
                        <option value="outros">üåü Outros</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Ordenar por:</label>
                    <select id="ideaSortFilter" onchange="sortIdeas()">
                        <option value="newest">Mais recentes</option>
                        <option value="rating">Melhor avaliadas</option>
                        <option value="category">Categoria</option>
                    </select>
                </div>

                <div id="ideasList" class="tips-grid">
                    <!-- Ideias ser√£o listadas aqui -->
                </div>

                <div class="highlight" style="margin-top: 3rem;">
                    <h3>ü§ù Vamos Construir Juntos um Futuro Sustent√°vel!</h3>
                    <p>
                        Cada ideia compartilhada aqui representa um passo em dire√ß√£o a um mundo mais sustent√°vel. 
                        Experimente as sugest√µes, adapte-as √† sua realidade e n√£o se esque√ßa de compartilhar 
                        suas pr√≥prias descobertas. Juntos, podemos transformar pequenos gestos em grandes mudan√ßas!
                    </p>
                    <p style="margin-top: 1rem;">
                        <strong>üí° Dica:</strong> Avalie as ideias que voc√™ testou para ajudar outros usu√°rios 
                        a encontrarem as melhores pr√°ticas sustent√°veis!
                    </p>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Sistema de modera√ß√£o e controle
        const bannedWords = [
            'idiota', 'burro', 'estupido', 'imbecil', 'otario', 'babaca', 'merda', 'porra', 'caralho', 'puta', 'viado', 'gay', 'negro', 'preto', 'gordo', 'feio', 'lixo', 'nojento', 'ridiculo', 'pat√©tico', 'inutil', 'fracassado', 'loser', 'stupid', 'idiot', 'fuck', 'shit', 'damn', 'bitch', 'asshole', 'crap', 'suck', 'hate', 'kill', 'die', 'death', 'murder', 'violence', 'drug', 'sex', 'porn', 'nude', 'naked'
        ];

        // Controle de avalia√ß√µes por usu√°rio (simulado com localStorage)
        let userRatings = JSON.parse(localStorage.getItem('userRatings') || '{}');

        function moderateContent(text) {
            const lowerText = text.toLowerCase();
            
            // Verificar palavras banidas
            for (let word of bannedWords) {
                if (lowerText.includes(word.toLowerCase())) {
                    return {
                        isValid: false,
                        message: `‚ö†Ô∏è Conte√∫do inadequado detectado. Por favor, mantenha um ambiente respeitoso e construtivo. Nossa plataforma √© dedicada √† sustentabilidade e bem-estar da comunidade.`
                    };
                }
            }
            
            // Verificar se n√£o √© muito curto (spam)
            if (text.trim().length < 10) {
                return {
                    isValid: false,
                    message: `‚ö†Ô∏è Por favor, forne√ßa uma descri√ß√£o mais detalhada (m√≠nimo 10 caracteres).`
                };
            }
            
            // Verificar se n√£o √© muito longo
            if (text.length > 1000) {
                return {
                    isValid: false,
                    message: `‚ö†Ô∏è Descri√ß√£o muito longa. Por favor, mantenha at√© 1000 caracteres.`
                };
            }
            
            // Verificar caracteres repetidos (spam)
            if (/(.)\1{10,}/.test(text)) {
                return {
                    isValid: false,
                    message: `‚ö†Ô∏è Evite repetir caracteres excessivamente.`
                };
            }
            
            return { isValid: true };
        }

        function canUserRate(ideaId) {
            const userId = getUserId();
            const userKey = `${userId}_${ideaId}`;
            
            return !userRatings[userKey];
        }

        function recordUserRating(ideaId) {
            const userId = getUserId();
            const userKey = `${userId}_${ideaId}`;
            
            userRatings[userKey] = {
                timestamp: Date.now(),
                rated: true
            };
            
            localStorage.setItem('userRatings', JSON.stringify(userRatings));
        }

        function getUserId() {
            // Simula um ID √∫nico do usu√°rio baseado no navegador
            let userId = localStorage.getItem('userId');
            if (!userId) {
                userId = 'user_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();
                localStorage.setItem('userId', userId);
            }
            return userId;
        }

        // Dados armazenados localmente
        let initiatives = [
            {
                name: "Horta Comunit√°ria Central",
                category: "agricultura",
                description: "Horta urbana com produ√ß√£o de org√¢nicos para a comunidade",
                location: "Pra√ßa Central, Centro",
                contact: "(11) 99999-9999"
            },
            {
                name: "Cooperativa de Reciclagem Verde",
                category: "reciclagem",
                description: "Coleta seletiva e reciclagem de materiais diversos",
                location: "Rua das Flores, 123",
                contact: "reciclaverde@email.com"
            }
        ];

        let ideas = [
            {
                title: "Smoothie de cascas de frutas",
                category: "alimentacao",
                description: "Aproveite cascas de ma√ß√£, p√™ra e outras frutas para fazer smoothies nutritivos. Lave bem as cascas, bata no liquidificador com √°gua e mel. Rico em fibras e vitaminas!",
                difficulty: "facil",
                author: "Ana Silva",
                rating: 4.8,
                votes: 24,
                date: new Date('2024-01-15'),
                id: 'idea_1_smoothie_cascas'
            },
            {
                title: "Carona solid√°ria no trabalho",
                category: "transporte",
                description: "Organize um grupo de WhatsApp com colegas de trabalho para compartilhar caronas. Divida os custos de combust√≠vel e reduza o tr√¢nsito. Uma pessoa pode dirigir por semana.",
                difficulty: "facil",
                author: "Carlos Santos",
                rating: 4.5,
                votes: 18,
                date: new Date('2024-01-20'),
                id: 'idea_2_carona_trabalho'
            },
            {
                title: "Detergente caseiro de lim√£o",
                category: "limpeza",
                description: "Misture cascas de 3 lim√µes, 500ml de √°gua, 200ml de vinagre branco e 3 colheres de bicarbonato. Deixe descansar por 15 dias. Coe e use para limpeza geral. Econ√¥mico e ecol√≥gico!",
                difficulty: "medio",
                author: "Maria Oliveira",
                rating: 4.9,
                votes: 32,
                date: new Date('2024-01-10'),
                id: 'idea_3_detergente_limao'
            },
            {
                title: "Timer para banho de 5 minutos",
                category: "energia",
                description: "Use o timer do celular para limitar o banho a 5 minutos. Desligue o chuveiro ao se ensaboar. Pode economizar at√© 40% da √°gua e energia do banho.",
                difficulty: "facil",
                author: "Jo√£o Costa",
                rating: 4.2,
                votes: 15,
                date: new Date('2024-01-25'),
                id: 'idea_4_timer_banho'
            },
            {
                title: "Sacolas reutiliz√°veis de camisetas velhas",
                category: "residuos",
                description: "Transforme camisetas velhas em sacolas ecol√≥gicas. Corte as mangas e o decote, amarre a barra inferior. Perfeitas para compras e muito resistentes!",
                difficulty: "facil",
                author: "Lucia Ferreira",
                rating: 4.6,
                votes: 21,
                date: new Date('2024-01-18'),
                id: 'idea_5_sacolas_camisetas'
            },
            {
                title: "Lista de compras por categoria",
                category: "compras",
                description: "Organize sua lista de compras por se√ß√µes do mercado (hortifr√∫ti, latic√≠nios, etc.). Evita voltar √†s mesmas se√ß√µes e reduz o tempo de compra, diminuindo o consumo por impulso.",
                difficulty: "facil",
                author: "Pedro Lima",
                rating: 4.3,
                votes: 12,
                date: new Date('2024-01-22'),
                id: 'idea_6_lista_compras'
            },
            {
                title: "Horta vertical com garrafas PET",
                category: "casa",
                description: "Corte garrafas PET ao meio, fa√ßa furos para drenagem, preencha com terra e plante temperos. Pendure na parede ou varanda. Ideal para apartamentos pequenos.",
                difficulty: "medio",
                author: "Fernanda Rocha",
                rating: 4.7,
                votes: 28,
                date: new Date('2024-01-12'),
                id: 'idea_7_horta_vertical'
            },
            {
                title: "Receita de hamb√∫rguer de lentilha",
                category: "alimentacao",
                description: "Cozinhe 1 x√≠cara de lentilha, amasse com alho, cebola, aveia e temperos. Forme hamb√∫rgueres e asse por 20min. Rico em prote√≠nas vegetais e muito saboroso!",
                difficulty: "medio",
                author: "Roberto Alves",
                rating: 4.4,
                votes: 19,
                date: new Date('2024-01-16'),
                id: 'idea_8_hamburguer_lentilha'
            }
        ];

        // Navega√ß√£o entre se√ß√µes
        function showSection(sectionId) {
            // Esconder todas as se√ß√µes
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remover classe active de todos os bot√µes
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Mostrar se√ß√£o selecionada
            document.getElementById(sectionId).classList.add('active');
            
            // Adicionar classe active ao bot√£o clicado
            event.target.classList.add('active');
        }

        // Calculadora de Pegada de Carbono
        document.getElementById('carbonForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const energy = parseFloat(document.getElementById('energy').value) || 0;
            const carKm = parseFloat(document.getElementById('carKm').value) || 0;
            const flights = parseInt(document.getElementById('flights').value) || 0;
            const diet = document.querySelector('input[name="diet"]:checked').value;
            const shopping = document.getElementById('shopping').value;
            
            // C√°lculos simplificados (fatores de emiss√£o aproximados)
            let carbonFootprint = 0;
            
            // Energia el√©trica (Brasil: ~0.07 kg CO2/kWh)
            carbonFootprint += (energy * 12 * 0.07) / 1000;
            
            // Transporte (carro: ~0.2 kg CO2/km)
            carbonFootprint += (carKm * 12 * 0.2) / 1000;
            
            // Voos
            const flightEmissions = {0: 0, 1: 0.5, 3: 1.5, 6: 3.0};
            carbonFootprint += flightEmissions[flights] || 0;
            
            // Dieta
            const dietEmissions = {high: 1.5, medium: 1.0, low: 0.5};
            carbonFootprint += dietEmissions[diet] || 1.0;
            
            // Compras
            const shoppingEmissions = {high: 0.8, medium: 0.5, low: 0.2};
            carbonFootprint += shoppingEmissions[shopping] || 0.5;
            
            // Mostrar resultado
            document.getElementById('carbonResult').textContent = carbonFootprint.toFixed(1);
            document.getElementById('results').style.display = 'block';
            
            // Gerar dicas personalizadas
            generateTips(energy, carKm, flights, diet, shopping);
            
            // Criar gr√°fico
            createCarbonChart(carbonFootprint);
            
            // Scroll para o resultado
            document.getElementById('results').scrollIntoView({behavior: 'smooth'});
        });

        function generateTips(energy, carKm, flights, diet, shopping) {
            const tipsContainer = document.getElementById('tipsContainer');
            let tips = [];
            
            if (energy > 200) {
                tips.push({
                    title: "‚ö° Reduza o Consumo de Energia",
                    content: "Troque l√¢mpadas por LED, desligue aparelhos da tomada e use eletrodom√©sticos eficientes."
                });
            }
            
            if (carKm > 800) {
                tips.push({
                    title: "üö≤ Repense seu Transporte",
                    content: "Use transporte p√∫blico, bicicleta ou caminhe. Considere carona solid√°ria ou carros el√©tricos."
                });
            }
            
            if (flights > 2) {
                tips.push({
                    title: "‚úàÔ∏è Compense suas Viagens",
                    content: "Prefira destinos pr√≥ximos, voos diretos e considere programas de compensa√ß√£o de carbono."
                });
            }
            
            if (diet === 'high') {
                tips.push({
                    title: "ü•ó Mude sua Alimenta√ß√£o",
                    content: "Reduza o consumo de carne, prefira produtos locais e org√¢nicos, evite desperd√≠cio."
                });
            }
            
            if (shopping === 'high') {
                tips.push({
                    title: "üõçÔ∏è Consuma Conscientemente",
                    content: "Compre apenas o necess√°rio, prefira produtos dur√°veis e de segunda m√£o."
                });
            }
            
            // Dicas gerais sempre inclu√≠das
            tips.push({
                title: "üå± Dicas Gerais",
                content: "Plante √°rvores, use produtos reutiliz√°veis, separe o lixo e eduque outras pessoas."
            });
            
            tipsContainer.innerHTML = tips.map(tip => `
                <div class="tip-card">
                    <h4>${tip.title}</h4>
                    <p>${tip.content}</p>
                </div>
            `).join('');
        }

        function createCarbonChart(userFootprint) {
            const ctx = document.getElementById('carbonChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Sua Pegada', 'M√©dia Brasileira', 'M√©dia Mundial', 'Meta Sustent√°vel'],
                    datasets: [{
                        label: 'Toneladas de CO‚ÇÇ/ano',
                        data: [userFootprint, 2.3, 4.8, 2.0],
                        backgroundColor: [
                            userFootprint > 2.3 ? '#ff6b6b' : '#4caf50',
                            '#ffd93d',
                            '#ff9f43',
                            '#6c5ce7'
                        ],
                        borderColor: [
                            userFootprint > 2.3 ? '#e55656' : '#45a049',
                            '#f1c40f',
                            '#e17055',
                            '#5f3dc4'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Compara√ß√£o da Pegada de Carbono'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Toneladas CO‚ÇÇ/ano'
                            }
                        }
                    }
                }
            });
        }

        // Quiz
        function checkQuiz() {
            const selected = document.querySelector('input[name="q1"]:checked');
            const resultDiv = document.getElementById('quizResult');
            
            if (!selected) {
                alert('Por favor, selecione uma resposta!');
                return;
            }
            
            if (selected.value === 'b' || selected.value === 'c') {
                resultDiv.innerHTML = `
                    <div style="background: #d4edda; color: #155724; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <strong>‚úÖ Correto!</strong> Fechar bem as torneiras e usar √°gua conscientemente s√£o pr√°ticas essenciais para economizar √°gua.
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div style="background: #f8d7da; color: #721c24; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                        <strong>‚ùå Incorreto!</strong> Deixar a torneira pingando desperdi√ßa muita √°gua. O correto √© sempre fechar bem as torneiras.
                    </div>
                `;
            }
            
            resultDiv.style.display = 'block';
        }

        // Mapeamento de Iniciativas
        document.getElementById('initiativeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('initName').value;
            const description = document.getElementById('initDescription').value;
            const location = document.getElementById('initLocation').value;
            
            // Moderar conte√∫do
            const nameCheck = moderateContent(name);
            if (!nameCheck.isValid) {
                alert(nameCheck.message);
                return;
            }
            
            const descCheck = moderateContent(description);
            if (!descCheck.isValid) {
                alert(descCheck.message);
                return;
            }
            
            const locCheck = moderateContent(location);
            if (!locCheck.isValid) {
                alert(locCheck.message);
                return;
            }
            
            const newInitiative = {
                name: name,
                category: document.getElementById('initCategory').value,
                description: description,
                location: location,
                contact: document.getElementById('initContact').value
            };
            
            initiatives.push(newInitiative);
            displayInitiatives();
            this.reset();
            
            alert('Iniciativa cadastrada com sucesso! üéâ');
        });

        function displayInitiatives(filter = '') {
            const container = document.getElementById('initiativesList');
            const filteredInitiatives = filter ? 
                initiatives.filter(init => init.category === filter) : 
                initiatives;
            
            if (filteredInitiatives.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">Nenhuma iniciativa encontrada.</p>';
                return;
            }
            
            container.innerHTML = filteredInitiatives.map(init => `
                <div class="tip-card">
                    <h4>${getCategoryIcon(init.category)} ${init.name}</h4>
                    <p><strong>Descri√ß√£o:</strong> ${init.description}</p>
                    <p><strong>üìç Local:</strong> ${init.location}</p>
                    ${init.contact ? `<p><strong>üìû Contato:</strong> ${init.contact}</p>` : ''}
                </div>
            `).join('');
        }

        function filterInitiatives() {
            const filter = document.getElementById('categoryFilter').value;
            displayInitiatives(filter);
        }

        function getCategoryIcon(category) {
            const icons = {
                agricultura: 'üå±',
                reciclagem: '‚ôªÔ∏è',
                energia: '‚ö°',
                educacao: 'üìö',
                transporte: 'üö≤',
                outros: 'üåç'
            };
            return icons[category] || 'üåç';
        }

        // Banco de Ideias
        document.getElementById('ideaForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('ideaTitle').value;
            const description = document.getElementById('ideaDescription').value;
            const author = document.getElementById('ideaAuthor').value || 'An√¥nimo';
            
            // Moderar conte√∫do
            const titleCheck = moderateContent(title);
            if (!titleCheck.isValid) {
                alert(titleCheck.message);
                return;
            }
            
            const descCheck = moderateContent(description);
            if (!descCheck.isValid) {
                alert(descCheck.message);
                return;
            }
            
            const authorCheck = moderateContent(author);
            if (!authorCheck.isValid) {
                alert('‚ö†Ô∏è Nome do autor cont√©m conte√∫do inadequado. Por favor, use um nome respeitoso.');
                return;
            }
            
            const newIdea = {
                title: title,
                category: document.getElementById('ideaCategory').value,
                description: description,
                difficulty: document.querySelector('input[name="difficulty"]:checked').value,
                author: author,
                rating: 0,
                votes: 0,
                date: new Date(),
                id: Date.now() + '_' + Math.random().toString(36).substr(2, 9) // ID √∫nico para controle de avalia√ß√µes
            };
            
            ideas.unshift(newIdea); // Adiciona no in√≠cio para mostrar as mais recentes primeiro
            displayIdeas();
            this.reset();
            
            alert('Ideia compartilhada com sucesso! üí° Obrigado por contribuir para nossa comunidade sustent√°vel!');
        });

        function displayIdeas(filter = '', sort = 'newest') {
            const container = document.getElementById('ideasList');
            let filteredIdeas = filter ? 
                ideas.filter(idea => idea.category === filter) : 
                [...ideas];
            
            // Ordena√ß√£o
            switch(sort) {
                case 'rating':
                    filteredIdeas.sort((a, b) => (b.rating || 0) - (a.rating || 0));
                    break;
                case 'category':
                    filteredIdeas.sort((a, b) => a.category.localeCompare(b.category));
                    break;
                case 'newest':
                default:
                    filteredIdeas.sort((a, b) => (b.date || new Date()) - (a.date || new Date()));
                    break;
            }
            
            if (filteredIdeas.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">Nenhuma ideia encontrada.</p>';
                return;
            }
            
            container.innerHTML = filteredIdeas.map((idea, index) => `
                <div class="tip-card" style="position: relative;">
                    <h4>${getIdeaCategoryIcon(idea.category)} ${idea.title}</h4>
                    <p style="margin: 1rem 0;">${idea.description}</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem; flex-wrap: wrap; gap: 0.5rem;">
                        <div>
                            <span style="font-size: 0.9rem; color: #666;"><strong>Dificuldade:</strong> ${getDifficultyLabel(idea.difficulty)}</span>
                            ${idea.author ? `<br><span style="font-size: 0.8rem; color: #888;">Por: ${idea.author}</span>` : ''}
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div class="rating-display">
                                ${generateStars(idea.rating || 0)}
                                <span style="font-size: 0.8rem; color: #666;">(${idea.votes || 0})</span>
                            </div>
                            <div class="rating-buttons" style="display: flex; gap: 0.25rem;">
                                ${canUserRate(idea.id || `${idea.title}_${idea.author}`) ? 
                                    [1,2,3,4,5].map(star => `
                                        <button onclick="rateIdea(${index}, ${star})" 
                                                style="background: none; border: none; font-size: 1.2rem; cursor: pointer; padding: 2px;"
                                                title="Avaliar com ${star} estrela${star > 1 ? 's' : ''}">‚≠ê</button>
                                    `).join('') :
                                    '<span style="font-size: 0.8rem; color: #888; font-style: italic;">J√° avaliado</span>'
                                }
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            
            return '‚òÖ'.repeat(fullStars) + 
                   (hasHalfStar ? '‚òÜ' : '') + 
                   '‚òÜ'.repeat(emptyStars) + 
                   ` ${rating.toFixed(1)}`;
        }

        function rateIdea(index, rating) {
            const currentFilter = document.getElementById('ideaCategoryFilter').value;
            const currentSort = document.getElementById('ideaSortFilter').value;
            
            // Encontrar a ideia original no array n√£o filtrado
            let filteredIdeas = currentFilter ? 
                ideas.filter(idea => idea.category === currentFilter) : 
                [...ideas];
                
            // Aplicar ordena√ß√£o para encontrar o √≠ndice correto
            switch(currentSort) {
                case 'rating':
                    filteredIdeas.sort((a, b) => (b.rating || 0) - (a.rating || 0));
                    break;
                case 'category':
                    filteredIdeas.sort((a, b) => a.category.localeCompare(b.category));
                    break;
                case 'newest':
                default:
                    filteredIdeas.sort((a, b) => (b.date || new Date()) - (a.date || new Date()));
                    break;
            }
            
            const ideaToRate = filteredIdeas[index];
            const ideaId = ideaToRate.id || `${ideaToRate.title}_${ideaToRate.author}`;
            
            // Verificar se o usu√°rio j√° avaliou esta ideia
            if (!canUserRate(ideaId)) {
                alert('‚ö†Ô∏è Voc√™ j√° avaliou esta ideia! Cada usu√°rio pode avaliar apenas uma vez para manter a justi√ßa do sistema.');
                return;
            }
            
            const originalIndex = ideas.findIndex(idea => 
                (idea.id && idea.id === ideaToRate.id) ||
                (idea.title === ideaToRate.title && 
                 idea.author === ideaToRate.author && 
                 idea.date === ideaToRate.date)
            );
            
            if (originalIndex !== -1) {
                const currentRating = ideas[originalIndex].rating || 0;
                const currentVotes = ideas[originalIndex].votes || 0;
                
                // Calcular nova m√©dia
                const newVotes = currentVotes + 1;
                const newRating = ((currentRating * currentVotes) + rating) / newVotes;
                
                ideas[originalIndex].rating = newRating;
                ideas[originalIndex].votes = newVotes;
                
                // Registrar que o usu√°rio avaliou esta ideia
                recordUserRating(ideaId);
                
                displayIdeas(currentFilter, currentSort);
                
                // Feedback visual
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = '‚úÖ';
                button.style.color = '#4caf50';
                setTimeout(() => {
                    displayIdeas(currentFilter, currentSort); // Atualizar para mostrar "J√° avaliado"
                }, 1000);
                
                alert(`‚ú® Obrigado pela sua avalia√ß√£o de ${rating} estrela${rating > 1 ? 's' : ''}! Sua opini√£o ajuda nossa comunidade a encontrar as melhores ideias sustent√°veis.`);
            }
        }

        function filterIdeas() {
            const filter = document.getElementById('ideaCategoryFilter').value;
            const sort = document.getElementById('ideaSortFilter').value;
            displayIdeas(filter, sort);
        }

        function sortIdeas() {
            const filter = document.getElementById('ideaCategoryFilter').value;
            const sort = document.getElementById('ideaSortFilter').value;
            displayIdeas(filter, sort);
        }

        function getIdeaCategoryIcon(category) {
            const icons = {
                alimentacao: 'ü•ó',
                transporte: 'üö≤',
                energia: '‚ö°',
                residuos: '‚ôªÔ∏è',
                limpeza: 'üßΩ',
                compras: 'üõí',
                casa: 'üè†',
                outros: 'üåü'
            };
            return icons[category] || 'üåü';
        }

        function getDifficultyLabel(difficulty) {
            const labels = {
                facil: 'üòä F√°cil',
                medio: 'ü§î M√©dio',
                dificil: 'üí™ Dif√≠cil'
            };
            return labels[difficulty] || 'üòä F√°cil';
        }

        // Inicializar displays
        displayInitiatives();
        displayIdeas();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98fa353851244d53',t:'MTc2MDY0NTUxMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
